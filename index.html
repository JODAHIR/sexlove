<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="author" content="JCODAHIR">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta content="SEXLOVE" name="description">
  <title>SEXLOVE</title>
        <!-- Favicon -->
    <link href="favicon.ico" rel="icon">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f4f4f8;
      font-family: 'Segoe UI', sans-serif;
      padding: 1.5rem;
    }
    .container-sm {
      background: #ffffff;
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
      margin-top: 1rem;
    }
    .day {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 0.75rem;
      padding: 14px 0;
      text-align: center;
      font-weight: 500;
      position: relative;
      transition: background-color 0.3s, transform 0.2s;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
      cursor: pointer;
      font-size: 0.95rem;
    }
    .day:hover {
      background-color: #eef3ff;
      transform: translateY(-2px);
    }
    .header {
      font-weight: bold;
      background-color: #f0f0f0;
      color: #666;
      border: none;
      cursor: default;
      pointer-events: none;
    }
    .marked-sex {
      background-color: #e8fce8 !important;
      border: 2px solid #2ecc71;
      box-shadow: 0 0 6px rgba(46, 204, 113, 0.3);
    }
    .marked-sex::after {
      content: "â¤ï¸";
      position: absolute;
      top: 6px;
      right: 8px;
      font-size: 1rem;
    }
    .marked-oral {
      background-color: #fff6d6 !important;
      border: 2px solid #f39c12;
      box-shadow: 0 0 6px rgba(243, 156, 18, 0.3);
    }
    .marked-oral::after {
      content: "ğŸ˜";
      position: absolute;
      top: 6px;
      right: 8px;
      font-size: 1rem;
    }
    .marked-touch {
      background-color: #fff2cc !important;
      border: 2px solid #ff8800;
      box-shadow: 0 0 6px rgba(255, 136, 0, 0.4);
    }
    .marked-touch::after {
      content: "ğŸ‘‰ğŸ¾ğŸ”¥âœŠğŸ¾";
      position: absolute;
      top: 6px;
      right: 8px;
      font-size: 1rem;
    }
    .marked-none {
      background-color: #fde6e6 !important;
      border: 2px solid #e74c3c;
      box-shadow: 0 0 6px rgba(231, 76, 60, 0.3);
    }
    .marked-none::after {
      content: "ğŸ˜";
      position: absolute;
      top: 6px;
      right: 8px;
      font-size: 1rem;
    }
    #kamaTip img {
      max-height: 250px;
      object-fit: contain;
    }
    @media (max-width: 576px) {
  .calendar {
    gap: 6px;
  }
  .day {
    font-size: 0.75rem;
    padding: 10px 0;
  }
  h2 {
    font-size: 1.25rem;
  }
  #monthYear {
    font-size: 1rem;
  }
}
.marked-menstrual {
  background-color: #ffe4ec !important;
  border: 2px solid #ff4d88;
  box-shadow: 0 0 6px rgba(255, 77, 136, 0.3);
}
.marked-menstrual::after {
  content: "ğŸ©¸";
  position: absolute;
  top: 6px;
  right: 8px;
  font-size: 1rem;
}
  </style>
</head>
<body>
  <div class="container-sm">
    <h2 class="text-center fw-bold mb-4">SEX LOVE</h2>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <button class="btn btn-outline-secondary btn-sm" id="prevMonth">â† Mes anterior</button>
      <h5 id="monthYear" class="mb-0 text-primary fw-semibold"></h5>
      <button class="btn btn-outline-secondary btn-sm" id="nextMonth">Mes siguiente â†’</button>
    </div>
    <div class="text-center mb-2">
      <button onclick="volverAHoy()" class="btn btn-sm btn-secondary">ğŸ“… Hoy</button>
      <button onclick="exportarHistorial()" class="btn btn-sm btn-outline-dark">ğŸ“¤ Exportar</button>
      <input type="file" id="importInput" accept=".json" class="form-control form-control-sm d-inline-block w-auto mt-2" title="Importar BKP">
    </div>

    <div class="calendar" id="calendar"></div>

    <div class="mt-4 text-center">
      <span class="me-3"><strong>â¤ï¸</strong> empleo</span>
      <span class="me-3"><strong>ğŸ‘…</strong> empleo oral</span>
      <span class="me-3"><strong>ğŸ‘‰ğŸ¾ğŸ”¥âœŠğŸ¾</strong> Toqueteo</span>
      <span class="me-3"><strong>ğŸ©¸</strong> MenstruaciÃ³n</span>
      <span class="me-3"><strong>ğŸ˜</strong> Sin actividad</span>
    </div>

    <p class="mt-3 small text-center text-muted" id="resumenMensual"></p>

    <div class="mt-5 text-center" id="kamaTip">
      <h5 class="mb-3 text-muted">ğŸ’¡ Consejo del Kamasutra del dÃ­a ğŸ§˜ </h5>
      <p id="kamaImage" src="" alt="PosiciÃ³n Kamasutra" class="img-fluid rounded shadow mb-2"></p>
      <h6 id="kamaTitle" class="fw-semibold"></h6>
      <p id="kamaDesc" class="text-muted small"></p>
    </div>
    <div class="mt-4">
  <h6 class="text-muted mb-3"></h6>
  <div class="row row-cols-2 row-cols-md-3 g-3">
    <script>
      kamaData.forEach(pos => {
        document.write(`
          <div class="col text-center">
            <img src="${pos.img}" alt="${pos.title}" class="img-fluid rounded" style="max-height:100px;">
            <div class="fw-semibold small mt-1">${pos.title}</div>
          </div>
        `);
      });
    </script>
  </div>
</div>
  </div>

  <script>
    const calendar = document.getElementById("calendar");
    const monthYear = document.getElementById("monthYear");
    const prevMonthBtn = document.getElementById("prevMonth");
    const nextMonthBtn = document.getElementById("nextMonth");

    let currentDate = new Date();

    function getMarkedDays() {
      return JSON.parse(localStorage.getItem("markedDaysV2") || "{}");
    }

    function setMarkedDay(dateStr, type) {
      let marked = getMarkedDays();
      marked[dateStr] = type;
      localStorage.setItem("markedDaysV2", JSON.stringify(marked));
      renderCalendar();
    }

    function cycleMark(dateStr) {
      const current = getMarkedDays()[dateStr];
      const types = ["sex", "oral", "touch", "menstrual", "none"];
      const next = types[(types.indexOf(current) + 1) % types.length];
      setMarkedDay(dateStr, next);
    }

    function getMarkClass(type) {
      switch (type) {
        case "sex": return "marked-sex";
        case "oral": return "marked-oral";
        case "touch": return "marked-touch";
        case "none": return "marked-none";
        case "menstrual": return "marked-menstrual";
        default: return "";
      }
    }

    function renderCalendar() {
      calendar.innerHTML = "";
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      const monthName = currentDate.toLocaleString("es-ES", { month: "long" });
      monthYear.textContent = monthName.charAt(0).toUpperCase() + monthName.slice(1) + " " + year;

      const headers = ["L", "M", "X", "J", "V", "S", "D"];
      headers.forEach(day => {
        const header = document.createElement("div");
        header.textContent = day;
        header.className = "day header";
        calendar.appendChild(header);
      });

      const offset = (firstDay + 6) % 7;
      for (let i = 0; i < offset; i++) {
        calendar.appendChild(document.createElement("div"));
      }

      const markedDays = getMarkedDays();

      for (let day = 1; day <= daysInMonth; day++) {
        const cell = document.createElement("div");
        const dateStr = new Date(year, month, day).toISOString().split("T")[0];
        cell.textContent = day;
        cell.className = "day";
        const markType = markedDays[dateStr];
        if (markType) {
          cell.classList.add(getMarkClass(markType));
        }
        cell.addEventListener("click", () => cycleMark(dateStr));
        calendar.appendChild(cell);
      }

      mostrarResumenMensual();
    }

    prevMonthBtn.addEventListener("click", () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar();
    });

    nextMonthBtn.addEventListener("click", () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar();
    });

    function volverAHoy() {
      currentDate = new Date();
      renderCalendar();
    }

    function mostrarResumenMensual() {
      const marked = getMarkedDays();
      const currentYear = currentDate.getFullYear();
      const currentMonth = currentDate.getMonth();

      let sex = 0, oral = 0, touch = 0, menstrual=0, none = 0;

      Object.entries(marked).forEach(([fecha, tipo]) => {
        const d = new Date(fecha);
        if (d.getFullYear() === currentYear && d.getMonth() === currentMonth) {
          if (tipo === "sex") sex++;
          if (tipo === "oral") oral++;
          if (tipo === "touch") touch++;
          if (tipo === "menstrual") menstrual++;
          if (tipo === "none") none++;
        }
      });

      document.getElementById("resumenMensual").textContent =
        `Este mes: â¤ï¸ ${sex} | ğŸ‘… ${oral} | ğŸ‘‰ğŸ¾ğŸ”¥âœŠğŸ¾ ${touch} | ğŸ©¸ ${menstrual}| ğŸ˜ ${none}`;
    }

    function exportarHistorial() {
      const data = JSON.stringify(getMarkedDays(), null, 2);
      const blob = new Blob([data], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'historial_calendario.json';
      a.click();
    }

    document.getElementById("importInput").addEventListener("change", function(event) {
      const file = event.target.files[0];
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const imported = JSON.parse(e.target.result);
          localStorage.setItem("markedDaysV2", JSON.stringify(imported));
          renderCalendar();
        } catch (err) {
          alert("Archivo no vÃ¡lido.");
        }
      };
      reader.readAsText(file);
    });

    const kamaData = [
  {
    title: "El Misionero",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/missionary.png",
    desc: "Una posiciÃ³n clÃ¡sica que permite cercanÃ­a emocional y contacto visual profundo."
  },
  {
    title: "La Vaquera",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/cowgirl.png",
    desc: "Ella encima controla el ritmo y la profundidad. Ideal para exploraciÃ³n mutua."
  },
  {
    title: "La Cuchara",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/spooning.png",
    desc: "Muy Ã­ntima y cÃ³moda. Perfecta para maÃ±anas perezosas o conexiÃ³n afectiva."
  },
  {
    title: "El Perrito",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/doggy.png",
    desc: "PosiciÃ³n intensa que favorece una penetraciÃ³n profunda. Muy estimulante."
  },
  {
    title: "El Loto",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/lotus.png",
    desc: "Sentados frente a frente, favorece la fusiÃ³n emocional y el ritmo compartido."
  },
  {
    title: "La Carretilla",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/wheelbarrow.png",
    desc: "Requiere fuerza y equilibrio. Divertida y desafiante."
  },
  {
    title: "La Silla del Amor",
    img: "https://raw.githubusercontent.com/justKiddingBaby/kamasutra-icons/main/icons/chair.png",
    desc: "Ideal para posiciones sentadas, con mucho contacto visual y fÃ­sico."
  }
];


    function showDailyKamaTip() {
      const today = new Date();
      const index = today.getDate() % kamaData.length;
      const tip = kamaData[index];
      document.getElementById("kamaImage").src = tip.img;
      document.getElementById("kamaTitle").textContent = tip.title;
      document.getElementById("kamaDesc").textContent = tip.desc;
    }

    showDailyKamaTip();
    renderCalendar();
  </script>
</body>
</html>
